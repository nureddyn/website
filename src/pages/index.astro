---
import { getCollection } from "astro:content";
import Container from "@/components/Container.astro";
import PageLayout from "@/layouts/PageLayout.astro";
// import ArrowCard from "@/components/ArrowCard.astro";
import NameCard from "@/components/NameCard.astro";
import Link from "@/components/Link.astro";
// import { dateRange } from "@/lib/utils";
import { getCurrentExperience } from "@/lib/utils";
import { SITE, HOME, SOCIALS } from "@/consts";

// const blog = (await getCollection("blog"))
//   .filter((post) => !post.data.draft)
//   .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
//   .slice(0, SITE.NUM_POSTS_ON_HOMEPAGE);
//
// const projects = (await getCollection("projects"))
//   .filter((project) => !project.data.draft)
//   .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
//   .slice(0, SITE.NUM_PROJECTS_ON_HOMEPAGE);
//
// const allwork = (await getCollection("work"))
//   .sort(
//     (a, b) =>
//       new Date(b.data.dateStart).valueOf() -
//       new Date(a.data.dateStart).valueOf(),
//   )
//   .slice(0, SITE.NUM_WORKS_ON_HOMEPAGE);
//
// const work = await Promise.all(
//   allwork.map(async (item) => {
//     const { Content } = await item.render();
//     return { ...item, Content };
//   }),
// );
---

<PageLayout title={HOME.TITLE} description={HOME.DESCRIPTION}>
  <Container>
    <NameCard />
    <div class="space-y-16" <section>
      <article class="space-y-4 mt-12 sm:mx-10">
        <p class="animate">
          Highly motivated Software Engineer with {getCurrentExperience}+ years
          of experience building and maintaining robust and efficient software
          applications. Proficient in HTML, CSS, JavaScript, Python, and SQL.
          Critical thinking-oriented professional, versed in tools such as Excel
          and Pandas for data analysis and manipulation. A strong background in
          management, client engagement, customer service, team collaboration,
          and significant experience leading work teams through effective use of
          communication. Driven to provide real-world solutions that positively
          impact lives.
        </p>
      </article>
    </div>
    <div>
      <p class="animate text-center text-bold">ยง</p>
      <br />
    </div>
    <section class="animate space-y-4">
      <h5 class="text-xl text-center font-semibold text-black dark:text-white">
        Let's Connect
      </h5>
      <article class="space-y-4 text-center sm:mx-10">
        <p>
          If you want to get in touch with me about something or just to say hi,
          reach out on social media or send me an email.
        </p>
      </article>
      <ul class="flex flex-wrap gap-2 place-content-center">
        <li class="line-clamp-1">
          <Link href={`mailto:${SITE.EMAIL}`} aria-label={`Email ${SITE.NAME}`}>
            Email
          </Link>
        </li>
        {
          SOCIALS.map((SOCIAL) => (
            <li class="flex gap-x-2 text-nowrap">
              <Link
                href={SOCIAL.HREF}
                external
                aria-label={`${SITE.NAME} on ${SOCIAL.NAME}`}
              >
                {SOCIAL.NAME}
              </Link>
              {"โข"}
            </li>
          ))
        }
      </ul>
    </section>
  </Container>
</PageLayout>
